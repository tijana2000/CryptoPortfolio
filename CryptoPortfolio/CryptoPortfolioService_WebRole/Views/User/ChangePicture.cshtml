
@{
    ViewBag.Title = "ChangePicture";    

    string base64 = string.Empty;
    string imgSrc = string.Empty;

    if (Model.ImageBytes != null)
    {
        base64 = Convert.ToBase64String(Model.ImageBytes);
        imgSrc = String.Format("data:image/gif;base64,{0}", base64);
    }
}

<h2>ChangePicture</h2>
<img src="@imgSrc" width="100" height="150" />

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@using (Html.BeginForm("UpdateBlob", "User", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)
    <fieldset>        
        <input type="file" id="userPicture" name="file" />
        <p>
            <input type="submit" value="Change" />
        </p>
    </fieldset>
}